<div class="container" xmlns:th="http://www.w3.org/1999/xhtml">
    <form>
        <a href="/public/featured" class="btn btn-warning m-1"> Featured</a>
        <a href="/public/new" class="btn btn-warning m-1"> New</a>
        <a href="/public/popular" class="btn btn-warning m-1"> Popular</a>
    </form>

    <table class="table table-striped table-hover">
        <thead>
        <tr>

            <th>Name</th>
            <th>Version</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="extension : ${extensions}" th:object="${extension}">
            <th scope="row" th:text="${extension.name}"></th>
            <td th:text="${extension.version}"></td>
            <td>
                <a th:href="@{/public/{id}(id = ${extension.id})}">Details</a>
            </td>
            <td>
                <!--<a th:href="${file}" th:text="${file}" />-->

                <a th:href="@{/public/download/{id}(id=${extension.id})}">Download</a>
                <!--<div>-->
                    <!--<ul>-->
                        <!--<li th:each="file : ${files}">-->
                            <!--<a th:href="${file}" th:text="${file}" />-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            </td>
            <td>
                <a sec:authorize="hasRole('ADMIN')" th:href="@{/extensions/edit/{id}(id = ${extension.id})}">Edit</a>
            </td>
            <td>
                <a sec:authorize="hasRole('ADMIN')" th:href="@{/extensions/delete/{id}(id = ${extension.id})}">Delete</a>
            </td>
            <td style="padding: 2px; vertical-align: middle; empty-cells: show" th:if="*{isFeatured() == false}">
                <form sec:authorize="hasRole('ADMIN')" method="post" th:action="@{/admin/makeFeatured/{id}(id = ${extension.id})}">
                    <button type="submit" class="card-button btn btn-success" name="Make Featured">Make Featured</button>
                    <!--<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->
                </form>
            </td>
            <td style="padding: 2px; vertical-align: middle; empty-cells: show" th:if="*{isFeatured() == true}">
                <form sec:authorize="hasRole('ADMIN')" method="post" th:action="@{/admin/removeFeatured/{id}(id = ${extension.id})}">
                    <button type="submit" class="card-button btn btn-warning" name="Remove Featured">Remove Featured</button>
                    <!--<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->
                </form>
            </td>

            <!--<td>-->
                <!--<a sec:authorize="hasRole('ADMIN')" th:href="@{/admin/makeFeatured/{id}(id = ${extension.id})}">Make Featured</a>-->
            <!--</td>-->
        </tr>
        </tbody>
    </table>

    <a sec:authorize="hasAnyRole('ADMIN','USER')" href="/extensions/add" class="btn btn-warning m-1"><strong>+</strong> Add Extension</a>
</div>

